"use client";
import i18n from "i18next";
import { initReactI18next } from "react-i18next";
const isClient = typeof window !== 'undefined';

const getSavedLanguage = () => {
  if (!isClient) return 'en';
  try {
    return localStorage.getItem('language') || 'en';
  } catch (error) {
    console.error('Error accessing localStorage:', error);
    return 'en';
  }
};

const savedLanguage = getSavedLanguage();

if (!i18n.isInitialized) {
  i18n
    .use(initReactI18next)
    .init({
      resources: {
        en: {
          translation: {
            //login
            "welcomeBack": "Welcome Back",
            "loginToContinue": "Login to continue your adventure",
            "emailAddress": "Email Address",
            "password": "Password",
            "enterPassword": "Enter your password",
            "enterEmail": "Enter your email",
            "loggingIn": "Logging in...",
            "login": "Login",
            "orContinueWith": "Or continue with",
            "signInWithGoogle": "Sign in with Google",
            "dontHaveAccount": "Don't have an account?",
            "signUp": "Sign Up",

            "createAccount": "Create Account",
            "joinCommunity": "Join our gaming community today",
            "createPassword": "Create a password",
            "passwordStrength": "Password strength:",
            "byCreating": "By creating an account, you agree to our",
            "termsOfService": "Terms of Service",
            "and": "and",
            "privacyPolicy": "Privacy Policy",
            "alreadyHaveAccount": "Already have an account?",
            "signIn": "Sign In",
            "creatingAccount": "Creating Account...",

            "resetPassword": "Reset Password",
            "enterNewPassword": "Enter your new password below",
            "newPassword": "New Password",
            "enterNewPasswordPlaceholder": "Enter new password",
            "confirmPassword": "Confirm Password",
            "confirmNewPassword": "Confirm new password",
            "resettingPassword": "Resetting Password...",
            "otpVerification": "OTP Verification",
            "enterCode": "Enter the 6-digit code we sent to your email",
            "verifying": "Verifying...",
            "verifyOtp": "Verify OTP",
            "forgotPassword": "Forgot Password",
            "enterEmailToReset": "Enter your email to reset your password",
            "sendingResetLink": "Sending reset link...",
            "sendResetLink": "Send Reset Link",
            "rememberedPassword": "Remembered your password?",

            // Navigation
            home: "Home",
            categories: "Categories",
            pc: "PC",
            stream: "Stream",
            playstation: "PlayStation",
            others: "Others",

            // Header Actions
            searchGames: "Search games...",
            search: "Search",
            orders: "Orders",
            cart: "Cart",
            basket: "Basket",
            account: "Account",
            preferences: "Preferences",
            preference: "Preference",

            // Common
            close: "Close",
            open: "Open",
            menu: "Menu",
            language: "Language",
            currency: "Currency",
            save: "Save",
            cancel: "Cancel",

            //Order

            "title": "My Orders",
            "subtitle": "Track and manage your game purchases",
            "approved": "Approved",
            "pending": "Pending",
            "rejected": "Rejected",
            "total": "Total",
            "orderItems": "Order Items",
            "previous": "Previous",
            "next": "Next",
            "approved_": "Approved Orders",
            "pending_": "Pending Orders",
            "rejected_": "Rejected Orders",
            "qty": "Qty",


            // Hero Section
            pickYourPlatform: "Pick Your Platform",
            welcomeMessage: "Welcome to Game Store, your trusted destination for the latest and most exciting games. We bring you top-quality titles, exclusive deals, and a smooth shopping experience. Stay connected for updates, offers, and endless fun.",

            // Footer Legal
            legal: "Legal",
            termsAndConditions: "Terms and Conditions",
            privacyPolicy: "Privacy Policy",
            supportCenter: "Support Center",
            help: "Help",
            humanSupport247: "Human support 24/7",
            connect: "Connect",
            allRightsReserved: "Buta Games. All rights reserved.",
            phone: "Phone",
            email: "Email",
            website: "Website",
            fax: "Fax",
            liveChat: "Live Chat",

            // Product related
            available: "Available",
            friendsPlaying: "friends playing",
            allModes: "All Modes",
            mode: "Mode",
            findYourNextFavoriteGame: "Find your next favorite game",
            products: "Products",
            filter: "Filter",
            filters: "Filters",
            sort: "Sort",
            price: "Price",
            priceRange: "Price Range",
            allCategories: "All Categories",
            category: "Category",
            subCategory: "Sub Category",
            allSubCategories: "All Sub Categories",
            bestSellers: "Best Sellers",
            bestSellerGame: "Best Seller Game",
            quickView: "Quick View",
            sold: "sold",
            warranty: "warranty",
            addToCart: "Add to Cart",
            outOfStock: "Out of Stock",
            inStock: "In Stock",
            writeYourComment: "Write your comment...",
            type: "Type",
            description: "Description",
            guarantee: "Guarantee",
            gameTrailer: "Game Trailer",
            officialTrailer: "Official Trailer",
            browseGames: "Browse Games",
            gamesFound: "Games Found",
            clearAll: "Clear All",
            topSellingGames: "Top Selling Games",

            // Game Categories
            action: "Action",
            adventure: "Adventure",
            rpg: "RPG",
            strategy: "Strategy",
            sports: "Sports",

            // Game Types
            online: "Online",
            offline: "Offline",
            instantDelivery: "Instant delivery",
            freeShipping: "Free shipping",

            // Recommendations
            recommendedForYou: "Recommended For You",
            personalizedPicks: "Personalized Picks",
            match: "Match",
            hot: "HOT",
            new: "NEW",
            wishlist: "Wishlist",
            playTime: "Play Time",

            // Comments
            comments: "Comments",
            anonymous: "Anonymous",
            noCommentsYet: "No comments yet. Be the first to comment!",

            // Pagination
            previous: "Previous",
            next: "Next",
            page: "Page",
            of: "of",

            // Messages
            loading: "Loading...",
            imagesLoading: "Images loading...",
            error: "Something went wrong",
            success: "Success",
            noResults: "No results found",
            noGamesFound: "No games found",
            tryAdjustingFilters: "Try adjusting your filters",
          }
        },

        az: {
          translation: {
            //Login

            "welcomeBack": "Xoş Gəldiniz",
            "loginToContinue": "Macəranıza davam etmək üçün daxil olun",
            "emailAddress": "E-poçt Ünvanı",
            "password": "Parol",
            "enterPassword": "Parolunuzu daxil edin",
            "enterEmail": "E-poçtunuzu daxil edin",
            "loggingIn": "Daxil olunur...",
            "login": "Daxil Ol",
            "orContinueWith": "Və ya bunlarla davam edin",
            "signInWithGoogle": "Google ilə daxil ol",
            "dontHaveAccount": "Hesabınız yoxdur?",
            "signUp": "Qeydiyyat",
            "createAccount": "Hesab Yarat",
            "joinCommunity": "Bu gün oyun icmamıza qoşulun",
            "createPassword": "Parol yaradın",
            "passwordStrength": "Parol gücü:",
            "byCreating": "Hesab yaratmaqla siz bizim",
            "termsOfService": "Xidmət Şərtləri",
            "and": "və",
            "privacyPolicy": "Məxfilik Siyasəti",
            "alreadyHaveAccount": "Artıq hesabınız var?",
            "signIn": "Daxil Ol",
            "creatingAccount": "Hesab yaradılır...",
            "resetPassword": "Parolu Sıfırla",
            "enterNewPassword": "Yeni parolunuzu aşağıda daxil edin",
            "newPassword": "Yeni Parol",
            "enterNewPasswordPlaceholder": "Yeni parolu daxil edin",
            "confirmPassword": "Parolu Təsdiq Et",
            "confirmNewPassword": "Yeni parolu təsdiq edin",
            "resettingPassword": "Parol sıfırlanır...",
            "otpVerification": "OTP Təsdiqi",
            "enterCode": "E-poçtunuza göndərdiyimiz 6 rəqəmli kodu daxil edin",
            "verifying": "Təsdiq edilir...",
            "verifyOtp": "OTP-ni Təsdiq Et",
            "forgotPassword": "Parolu Unutmuşam",
            "enterEmailToReset": "Parolunuzu sıfırlamaq üçün e-poçtunuzu daxil edin",
            "sendingResetLink": "Sıfırlama linki göndərilir...",
            "sendResetLink": "Sıfırlama Linki Göndər",
            "rememberedPassword": "Parolunuzu xatırladınız?",

            // Navigation
            home: "Ana Səhifə",
            categories: "Kateqoriyalar",
            pc: "PC",
            stream: "Yayım",
            playstation: "PlayStation",
            others: "Digərləri",

            // Header Actions
            search: "Axtarış",
            orders: "Sifarişlər",
            cart: "Səbət",
            basket: "Səbət",
            account: "Hesab",
            preferences: "Tənzimləmələr",
            preference: "Tənzimləmə",

            // Common
            close: "Bağla",
            open: "Aç",
            menu: "Menyu",
            language: "Dil",
            currency: "Valyuta",
            save: "Saxla",
            cancel: "Ləğv et",

            //Order
            "title": "Sifarişlərim",
            "subtitle": "Oyun alışlarınızı izləyin və idarə edin",
            "approved": "Təsdiqləndi",
            "pending": "Gözləyir",
            "rejected": "Rədd edildi",
            "total": "Cəmi",
            "orderItems": "Sifariş Elementləri",
            "qty": "Miqdar",
            "previous": "Əvvəlki",
            "next": "Növbəti",
            "approved_": "Təsdiqlənmiş Sifarişlər",
            "pending_": "Gözləyən Sifarişlər",
            "rejected_": "Rədd Edilmiş Sifarişlər",

            // Hero Section
            pickYourPlatform: "Platformanızı Seçin",
            welcomeMessage: "Game Store-a xoş gəlmisiniz, ən son və həyəcanverici oyunlar üçün etibarlı təyinatınız. Biz sizə yüksək keyfiyyətli başlıqlar, ekskluziv təkliflər və hamar alış-veriş təcrübəsi təqdim edirik. Yeniləmələr, təkliflər və sonsuz əyləncə üçün əlaqədə qalın.",

            // Footer Legal
            legal: "Hüquqi",
            termsAndConditions: "Şərtlər və Qaydalar",
            privacyPolicy: "Məxfilik Siyasəti",
            supportCenter: "Dəstək Mərkəzi",
            help: "Kömək",
            humanSupport247: "İnsan dəstəyi 24/7",
            connect: "Əlaqə",
            allRightsReserved: "Buta Games. Bütün hüquqlar qorunur.",
            phone: "Telefon",
            email: "E-poçt",
            website: "Veb sayt",
            fax: "Faks",
            liveChat: "Canlı Söhbət",

            // ... rest of translations remain the same
            available: "Mövcuddur",
            friendsPlaying: "dostlar oynayır",
            allModes: "Bütün Rejimlər",
            searchGames: "Oyunları axtarın...",
            inStock: "Stokda var",
            outOfStock: "Stokda yoxdur",
            writeYourComment: "Şərhinizi yazın...",
            mode: "Rejim",
            findYourNextFavoriteGame: "Növbəti sevimli oyununuzu tapın",
            products: "Məhsullar",
            topSellingGames: "Çox Satılan Oyunlar",
            filter: "Filtr",
            filters: "Filtrlər",
            sort: "Sırala",
            price: "Qiymət",
            priceRange: "Qiymət Aralığı",
            category: "Kateqoriya",
            allCategories: "Bütün Kateqoriyalar",
            subCategory: "Alt Kateqoriya",
            allSubCategories: "Bütün Alt Kateqoriyalar",
            bestSellers: "Ən Çox Satılanlar",
            bestSellerGame: "Ən Çox Satılan Oyun",
            quickView: "Sürətli Baxış",
            sold: "satıldı",
            warranty: "zəmanət",
            addToCart: "Səbətə Əlavə Et",
            type: "Növ",
            description: "Təsvir",
            guarantee: "Zəmanət",
            gameTrailer: "Oyun Treyləri",
            officialTrailer: "Rəsmi Treylər",
            browseGames: "Oyunlara Baxın",
            gamesFound: "Oyun Tapıldı",
            clearAll: "Hamısını Təmizlə",
            action: "Hərəkət",
            adventure: "Macəra",
            rpg: "RPG",
            strategy: "Strategiya",
            sports: "İdman",
            online: "Onlayn",
            offline: "Oflayn",
            instantDelivery: "Ani çatdırılma",
            freeShipping: "Pulsuz çatdırılma",
            recommendedForYou: "Sizin Üçün Təvsiyə Olunan",
            personalizedPicks: "Fərdi Seçimlər",
            match: "Uyğunluq",
            hot: "İSTİ",
            new: "YENİ",
            wishlist: "İstək Siyahısı",
            playTime: "Oyun Vaxtı",
            comments: "Şərhlər",
            anonymous: "Anonim",
            noCommentsYet: "Hələ şərh yoxdur. İlk şərh edən olun!",
            previous: "Əvvəlki",
            next: "Növbəti",
            page: "Səhifə",
            of: "-dan",
            loading: "Yüklənir...",
            imagesLoading: "Şəkillər yüklənir...",
            error: "Xəta baş verdi",
            success: "Uğurlu",
            noResults: "Nəticə tapılmadı",
            noGamesFound: "Oyun tapılmadı",
            tryAdjustingFilters: "Filtrlərinizdə dəyişiklik etməyi cəhd edin",
          }
        },

        tr: {
          translation: {
            //Login

            "welcomeBack": "Tekrar Hoş Geldin",
            "loginToContinue": "Macerana devam etmek için giriş yap",
            "emailAddress": "E-posta Adresi",
            "password": "Şifre",
            "enterPassword": "Şifrenizi girin",
            "enterEmail": "E-postanızı girin",
            "loggingIn": "Giriş yapılıyor...",
            "login": "Giriş Yap",
            "orContinueWith": "Veya şununla devam et",
            "signInWithGoogle": "Google ile giriş yap",
            "dontHaveAccount": "Hesabınız yok mu?",
            "signUp": "Kayıt Ol",
            "createAccount": "Hesap Oluştur",
            "joinCommunity": "Bugün oyun topluluğumuza katıl",
            "createPassword": "Bir şifre oluşturun",
            "passwordStrength": "Şifre gücü:",
            "byCreating": "Hesap oluşturarak",
            "termsOfService": "Hizmet Şartları",
            "and": "ve",
            "privacyPolicy": "Gizlilik Politikası",
            "alreadyHaveAccount": "Zaten hesabınız var mı?",
            "signIn": "Giriş Yap",
            "creatingAccount": "Hesap oluşturuluyor...",
            "resetPassword": "Şifreyi Sıfırla",
            "enterNewPassword": "Yeni şifrenizi aşağıya girin",
            "newPassword": "Yeni Şifre",
            "enterNewPasswordPlaceholder": "Yeni şifre girin",
            "confirmPassword": "Şifreyi Onayla",
            "confirmNewPassword": "Yeni şifreyi onaylayın",
            "resettingPassword": "Şifre sıfırlanıyor...",
            "otpVerification": "OTP Doğrulama",
            "enterCode": "E-postanıza gönderdiğimiz 6 haneli kodu girin",
            "verifying": "Doğrulanıyor...",
            "verifyOtp": "OTP'yi Doğrula",
            "forgotPassword": "Şifremi Unuttum",
            "enterEmailToReset": "Şifrenizi sıfırlamak için e-postanızı girin",
            "sendingResetLink": "Sıfırlama bağlantısı gönderiliyor...",
            "sendResetLink": "Sıfırlama Bağlantısı Gönder",
            "rememberedPassword": "Şifrenizi hatırladınız mı?",

            // Navigation
            home: "Ana Sayfa",
            categories: "Kategoriler",
            pc: "PC",
            stream: "Yayın",
            playstation: "PlayStation",
            others: "Diğerleri",

            // Header Actions
            search: "Arama",
            orders: "Siparişler",
            cart: "Sepet",
            basket: "Sepet",
            account: "Hesap",
            preferences: "Ayarlar",
            preference: "Ayar",

            // Common
            close: "Kapat",
            open: "Aç",
            menu: "Menü",
            language: "Dil",
            currency: "Para Birimi",
            save: "Kaydet",
            cancel: "İptal",

            // Hero Section
            pickYourPlatform: "Platformunuzu Seçin",
            welcomeMessage: "Game Store'a hoş geldiniz, en son ve heyecan verici oyunlar için güvenilir hedefiniz. Size yüksek kaliteli başlıklar, özel teklifler ve sorunsuz alışveriş deneyimi sunuyoruz. Güncellemeler, teklifler ve sonsuz eğlence için bağlantıda kalın.",

            // Order
            "title": "Siparişlerim",
            "subtitle": "Oyun satın alımlarınızı takip edin ve yönetin",
            "approved": "Onaylandı",
            "pending": "Beklemede",
            "rejected": "Reddedildi",
            "total": "Toplam",
            "orderItems": "Sipariş Öğeleri",
            "previous": "Önceki",
            "next": "Sonraki",
            "approved_": "Onaylanan Siparişler",
            "pending_": "Bekleyen Siparişler",
            "rejected_": "Reddedilen Siparişler",
            "qty": "Adet",


            // Footer Legal
            legal: "Yasal",
            termsAndConditions: "Şartlar ve Koşullar",
            privacyPolicy: "Gizlilik Politikası",
            supportCenter: "Destek Merkezi",
            help: "Yardım",
            humanSupport247: "İnsan desteği 24/7",
            connect: "Bağlantı",
            allRightsReserved: "Buta Games. Tüm hakları saklıdır.",
            phone: "Telefon",
            email: "E-posta",
            website: "Web sitesi",
            fax: "Faks",
            liveChat: "Canlı Sohbet",

            // Products
            available: "Mevcut",
            friendsPlaying: "arkadaşlar oynuyor",
            allModes: "Tüm Modlar",
            searchGames: "Oyun arayın...",
            inStock: "Stokta mevcut",
            outOfStock: "Stokta yok",
            writeYourComment: "Yorumunuzu yazın...",
            mode: "Mod",
            findYourNextFavoriteGame: "Bir sonraki favori oyununuzu bulun",
            products: "Ürünler",
            topSellingGames: "En Çok Satan Oyunlar",
            filter: "Filtrele",
            filters: "Filtreler",
            sort: "Sırala",
            price: "Fiyat",
            priceRange: "Fiyat Aralığı",
            category: "Kategori",
            allCategories: "Tüm Kategoriler",
            subCategory: "Alt Kategori",
            allSubCategories: "Tüm Alt Kategoriler",
            bestSellers: "En Çok Satanlar",
            bestSellerGame: "En Çok Satan Oyun",
            quickView: "Hızlı Görüntüle",
            sold: "satıldı",
            warranty: "garanti",
            addToCart: "Sepete Ekle",
            type: "Tür",
            description: "Açıklama",
            guarantee: "Garanti",
            gameTrailer: "Oyun Fragmanları",
            officialTrailer: "Resmi Fragman",
            browseGames: "Oyunlara Göz At",
            gamesFound: "Oyun Bulundu",
            clearAll: "Tümünü Temizle",
            action: "Aksiyon",
            adventure: "Macera",
            rpg: "RPG",
            strategy: "Strateji",
            sports: "Spor",
            online: "Çevrimiçi",
            offline: "Çevrimdışı",
            instantDelivery: "Anında teslimat",
            freeShipping: "Ücretsiz kargo",
            recommendedForYou: "Sizin İçin Önerilen",
            personalizedPicks: "Kişisel Seçimler",
            match: "Eşleşme",
            hot: "SICAK",
            new: "YENİ",
            wishlist: "İstek Listesi",
            playTime: "Oyun Süresi",
            comments: "Yorumlar",
            anonymous: "Anonim",
            noCommentsYet: "Henüz yorum yok. İlk yorumu yapan siz olun!",
            previous: "Önceki",
            next: "Sonraki",
            page: "Sayfa",
            of: "-den",
            loading: "Yükleniyor...",
            imagesLoading: "Resimler yükleniyor...",
            error: "Hata oluştu",
            success: "Başarılı",
            noResults: "Sonuç bulunamadı",
            noGamesFound: "Oyun bulunamadı",
            tryAdjustingFilters: "Filtrelerinizi ayarlamayı deneyin",



          }
        }
      },
      lng: savedLanguage,
      fallbackLng: "en",
      
      interpolation: { escapeValue: false },


      react: {
        useSuspense: false,
        bindI18n: 'languageChanged',
        bindI18nStore: '',
        transEmptyNodeValue: '',
        transSupportBasicHtmlNodes: true,
        transKeepBasicHtmlNodesFor: ['br', 'strong', 'i'],
      },

      debug: process.env.NODE_ENV === 'development'
    });
}

export default i18n;